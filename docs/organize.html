<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 2 Organize | R for Environmental Health Research</title>
  <meta name="description" content="Online booklet for workshop on R for environmental health research, geared to those who already use R for their research but want to learn more tools.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 2 Organize | R for Environmental Health Research" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Online booklet for workshop on R for environmental health research, geared to those who already use R for their research but want to learn more tools." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Organize | R for Environmental Health Research" />
  
  <meta name="twitter:description" content="Online booklet for workshop on R for environmental health research, geared to those who already use R for their research but want to learn more tools." />
  

<meta name="author" content="Brooke Anderson">


<meta name="date" content="2019-04-09">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">
<link rel="next" href="track.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Visualization in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a><ul>
<li class="chapter" data-level="1.0.1" data-path="index.html"><a href="index.html#overview"><i class="fa fa-check"></i><b>1.0.1</b> Overview</a></li>
<li class="chapter" data-level="1.0.2" data-path="index.html"><a href="index.html#set-up"><i class="fa fa-check"></i><b>1.0.2</b> Set-up</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="organize.html"><a href="organize.html"><i class="fa fa-check"></i><b>2</b> Organize</a><ul>
<li class="chapter" data-level="2.1" data-path="organize.html"><a href="organize.html#r-projects"><i class="fa fa-check"></i><b>2.1</b> R Projects</a></li>
<li class="chapter" data-level="2.2" data-path="organize.html"><a href="organize.html#directory-organization"><i class="fa fa-check"></i><b>2.2</b> Directory organization</a><ul>
<li class="chapter" data-level="2.2.1" data-path="organize.html"><a href="organize.html#keeping-things-tidy"><i class="fa fa-check"></i><b>2.2.1</b> Keeping things tidy</a></li>
<li class="chapter" data-level="2.2.2" data-path="organize.html"><a href="organize.html#avoiding-repetition"><i class="fa fa-check"></i><b>2.2.2</b> Avoiding repetition</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="organize.html"><a href="organize.html#learn-more"><i class="fa fa-check"></i><b>2.3</b> Learn more</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="track.html"><a href="track.html"><i class="fa fa-check"></i><b>3</b> Track</a><ul>
<li class="chapter" data-level="3.1" data-path="track.html"><a href="track.html#git"><i class="fa fa-check"></i><b>3.1</b> git</a></li>
<li class="chapter" data-level="3.2" data-path="track.html"><a href="track.html#github"><i class="fa fa-check"></i><b>3.2</b> GitHub</a></li>
<li class="chapter" data-level="3.3" data-path="track.html"><a href="track.html#terminal"><i class="fa fa-check"></i><b>3.3</b> Terminal</a><ul>
<li class="chapter" data-level="3.3.1" data-path="track.html"><a href="track.html#accessing-a-bash-shell"><i class="fa fa-check"></i><b>3.3.1</b> Accessing a Bash Shell</a></li>
<li class="chapter" data-level="3.3.2" data-path="track.html"><a href="track.html#git2r-package"><i class="fa fa-check"></i><b>3.3.2</b> <code>git2r</code> package</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="track.html"><a href="track.html#learn-more-1"><i class="fa fa-check"></i><b>3.4</b> Learn more</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="package.html"><a href="package.html"><i class="fa fa-check"></i><b>4</b> Package</a><ul>
<li class="chapter" data-level="4.1" data-path="package.html"><a href="package.html#r-packages"><i class="fa fa-check"></i><b>4.1</b> R packages</a><ul>
<li class="chapter" data-level="4.1.1" data-path="package.html"><a href="package.html#r-code"><i class="fa fa-check"></i><b>4.1.1</b> R code</a></li>
<li class="chapter" data-level="4.1.2" data-path="package.html"><a href="package.html#description-file"><i class="fa fa-check"></i><b>4.1.2</b> DESCRIPTION file</a></li>
<li class="chapter" data-level="4.1.3" data-path="package.html"><a href="package.html#other-package-components"><i class="fa fa-check"></i><b>4.1.3</b> Other package components</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="package.html"><a href="package.html#publishing"><i class="fa fa-check"></i><b>4.2</b> Publishing</a><ul>
<li class="chapter" data-level="4.2.1" data-path="package.html"><a href="package.html#why-publish-your-packages"><i class="fa fa-check"></i><b>4.2.1</b> Why publish your packages?</a></li>
<li class="chapter" data-level="4.2.2" data-path="package.html"><a href="package.html#where-to-publish-packages"><i class="fa fa-check"></i><b>4.2.2</b> Where to publish packages</a></li>
<li class="chapter" data-level="4.2.3" data-path="package.html"><a href="package.html#extra-steps-for-publishing"><i class="fa fa-check"></i><b>4.2.3</b> Extra steps for publishing</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="package.html"><a href="package.html#checking"><i class="fa fa-check"></i><b>4.3</b> Checking</a></li>
<li class="chapter" data-level="4.4" data-path="package.html"><a href="package.html#try-it-out"><i class="fa fa-check"></i><b>4.4</b> Try it out</a></li>
<li class="chapter" data-level="4.5" data-path="package.html"><a href="package.html#learn-more-2"><i class="fa fa-check"></i><b>4.5</b> Learn more</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="collect.html"><a href="collect.html"><i class="fa fa-check"></i><b>5</b> Collect</a><ul>
<li class="chapter" data-level="5.1" data-path="collect.html"><a href="collect.html#open-data"><i class="fa fa-check"></i><b>5.1</b> Open data</a><ul>
<li class="chapter" data-level="5.1.1" data-path="collect.html"><a href="collect.html#admin-databases"><i class="fa fa-check"></i><b>5.1.1</b> [Admin databases?]</a></li>
<li class="chapter" data-level="5.1.2" data-path="collect.html"><a href="collect.html#research-repositories"><i class="fa fa-check"></i><b>5.1.2</b> [Research repositories?]</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="collect.html"><a href="collect.html#data-packages"><i class="fa fa-check"></i><b>5.2</b> Data packages</a></li>
<li class="chapter" data-level="5.3" data-path="collect.html"><a href="collect.html#web-services"><i class="fa fa-check"></i><b>5.3</b> Web services [?]</a></li>
<li class="chapter" data-level="5.4" data-path="collect.html"><a href="collect.html#ropensci"><i class="fa fa-check"></i><b>5.4</b> ROpenSci</a></li>
<li class="chapter" data-level="5.5" data-path="collect.html"><a href="collect.html#learn-more-3"><i class="fa fa-check"></i><b>5.5</b> Learn more</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="process.html"><a href="process.html"><i class="fa fa-check"></i><b>6</b> Process</a><ul>
<li class="chapter" data-level="6.1" data-path="process.html"><a href="process.html#learn-more-4"><i class="fa fa-check"></i><b>6.1</b> Learn more</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>7</b> Final Words</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Environmental Health Research</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="organize" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Organize</h1>
<p><span class="newthought">If you are using R to write</span> for larger projects, including research
for academic papers and theses, you should start putting some thought into how you
organize your research files, including raw data, cleaned data, coding scripts for
analysis, and output like paper drafts and figures.</p>
<div id="r-projects" class="section level2">
<h2><span class="header-section-number">2.1</span> R Projects</h2>
<p><span class="newthought">RStudio allows you to</span> create “Projects”, which help with this
organization. An R Project is very simple—it’s just a file directory, with an
extra subdirectory added to the directory [with settings?]. This directory is
saved as a <strong>dot file</strong><a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>, so you probably won’t be able to see it
listed if you look at the directory contents using your [file viewer?]. If you’d like
to see the listing (or delete it by hand, although you likely won’t ever need to
do this), check the settings for your [file viewer?], and see if you have the option
to show all files. Alternatively, you can use the “list” command with the “all” option
(<code>ls -a</code>) at a Bash shell to view all files and subdirectories in a directory.</p>
<p>Advantages of setting a directory to be an R Project are:</p>
<ul>
<li>Automatically uses the directory as your current working directory when you open the project.</li>
<li>Coordinates well with git version control and GitHub repository system.</li>
<li>Opens a “Files” window for navigating project files in an RStudio pane when you open the project.</li>
</ul>
<p>You can either create an R Project as a new directory or convert an existing directory into
an R Project. To do either, in RStudio go to the “File” menu and select “New Project”. You’ll
then have the option to either create a new directory that’s an R Project or to search through
your computer’s files to find an existing directory to make into an R Project.</p>
<p>Once you’ve created an R Project, you can open it in RStudio; opening an R Project will set
the project’s directory as your working directory, opening a “Files” window with all the
subdirectories and files in the project directory and allowing you to run code with
<strong>relative filenames</strong><a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a> from the project’s directory. If you
share the R Project with someone else,<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a> he or she will also be able to
open the R project using RStudio.</p>
<p>One benefit of R Projects is that it is very easy to initialize them as git repositories.
A later section (“Track”) will go over how to initialize and use git version control for
R Projects. You will also definitely want to use an R Project for any R package you write,
as this will introduce a lot of functionality that “plays well” with the <code>devtools</code> package
to make it easier to write, build, and publish an R package [?].</p>
</div>
<div id="directory-organization" class="section level2">
<h2><span class="header-section-number">2.2</span> Directory organization</h2>
<p>…</p>
<div id="keeping-things-tidy" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Keeping things tidy</h3>
<p>My desk at work is very messy, with lots of paper printouts piled up. My car and my closet
aren’t terribly tidy, either. But I do keep my project directories very tidy, and I
strongly recommend the practice.</p>
<p>This goes beyond “well-organized”, which we just covered (putting all project
files in one directory, using subdirectories to divide up files in a project,
using consistent names for project file directories, etc.). Keeping a project directory
“tidy” means having <strong>only one</strong> version of each file. Often, as you develop a project,
especially when collaborators are involved, you can end up with many versions of a
file. For example, you may have the draft of a journal article’s text saved
in some versions with the file name reflecting the date of the draft (“draft_may_12.docx”),
some versions that include the initials of people who reviewed it (“paper_draft_ba_rp_mb2.docx”),
and so on.</p>
<p>This type of organization—having multiple versions of project files, with the file names
meant to help you keep track of them—results in very cluttered and hard-to-manage project
directories. Instead, at any given moment, each of your project directories should have only
one version of each project file. You certainly won’t want to lose information from edits
and changes to the files along the way, so it’s smart to use some type of <strong>version control
system</strong>[<strong>version control system.</strong> …] on each project directory. This will allow you
to track the changes you’ve made to each file and to go back and revisit the file at any
moment in the project’s history. A later section of this booklet will describe how you can
use <code>git</code> for version control for R projects.</p>
</div>
<div id="avoiding-repetition" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Avoiding repetition</h3>
<p>One key to efficient organization is to <strong>avoid repetition</strong>.<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a> In practice, it often happens that you’re using the
same code across several projects. For example, say you have some code that calculates the
apparent temperature from air temperature and some measure of dewpoint temperature. If you have
organized your project files to have one directory per paper, with all the associated code for
a paper within the project’s directory, then you may find you’re often copying and pasting the
code to calculate apparent temperature into different directories.</p>
<p>This situation makes for a tricky balance—you want to organize your files and have a separate
directory for each project, but cutting and pasting code can be a recide for disaster. Each time
you move the code, there’s a chance for an error to slip in. Also, what if you want to make a change
in the code? Say you hear about a better algorithm for calculating apparent temperature?
You will either need to go through all of your projects that use that code and change the code
everywhere, or you will have to settle for different projects using different algorithms.</p>
<p>This means it’s time to start thinking about writing your own <strong>R package</strong>.[<span class="citation">(<span class="citeproc-not-found" data-reference-id="*"><strong>???</strong></span>)</span>*R package** …]
You do not have to publish every R package you write—it’s fine to just use it yourself and not
share it more widely. Regardless, a package is the right place to store related code that you use
often, as well as documentation (and possibly tests) to go with that code. A later section of this
booklet will go over a bit about how to write your own R packages, as well as references for
learning more about package development.</p>
</div>
</div>
<div id="learn-more" class="section level2">
<h2><span class="header-section-number">2.3</span> Learn more</h2>
<p>[R Reproc. Research] is an excellent book with advice on improving the reproducibility of
projects using R, including academic research projects.</p>
<p>A few good articles have come out recently that describe project organization within
the scientific fields of [biology] and [archaeology]. [One has links to example repositories?]<br />
Other papers discuss project organization in the context of reproducibility, presenting
the idea of creating a <strong>research compendium</strong><a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a> for scientific
publications.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="3">
<li id="fn3"><p><strong>dot file.</strong> …<a href="organize.html#fnref3" class="footnote-back">↩</a></p></li>
<li id="fn4"><p><strong>relative filename.</strong> …<a href="organize.html#fnref4" class="footnote-back">↩</a></p></li>
<li id="fn5"><p>One way to do this would be to zipped the directory
into a single file and share it by email. Another is to use git version control, post the
directory to GitHub, and share the directory from there.<a href="organize.html#fnref5" class="footnote-back">↩</a></p></li>
<li id="fn6"><p>In programming, you’ll often
hear this advice as “Do Not Repeat Yourself”.<a href="organize.html#fnref6" class="footnote-back">↩</a></p></li>
<li id="fn7"><p><strong>research compendium.</strong> …<a href="organize.html#fnref7" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="track.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/01-organize.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["columbia_env_health.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
