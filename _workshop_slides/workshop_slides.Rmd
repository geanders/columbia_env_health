---
author: Brooke Anderson
address: Colorado State University
title: R PROGRAMMING
subtitle: for environmental health research
date: \today
header-includes:
   - \usepackage{epigraph}
   - \setlength{\epigraphwidth}{0.4\textwidth}
   - \def\inserttotalframenumber{100}
output: binb::presento
---

```{r echo = FALSE}
knitr::opts_knit$set(root.dir = "..")
```


## Today's goals

- LEARN principles of a key R plotting framework \bigskip
- UNDERSTAND what R can do for visualizations \bigskip
- KNOW what to do next to learn more

## Homework?!

\begin{center}
\url{goo.gl/7fPYUx}
\end{center}

## Today's plan

\montserratfont
- \largetext{ORGANIZE} \bigskip
- \largetext{TRACK} \bigskip
- \largetext{PACKAGE} \bigskip
- \largetext{COLLECT} \bigskip
- \largetext{PROCESS} 

____

\begin{center}
 \hugetext{PREREQUISITES} 
 \medskip 
 \small Setting up 
\end{center}

## Set-up

- R
- RStudio
- git
- GitHub account
- R packages
- Download example Project


____

\begin{center}
 \hugetext{ORGANIZE} 
 \medskip 
 \small RStudio's \textbf{R Projects} for organizing
\end{center}

## Common project subdirectories

- **data-raw** Raw data and R scripts to clean the raw data. \medskip
- **data** Cleaned data, often saved as `.RData` after being generated by a script in `data-raw`. \medskip
- **R** Code for any functions used in analysis. \medskip
- **figures** Figures created from R code. \medskip
- **reports** R Markdown files and products rendered from those files (e.g., paper drafts, presentations).

## Create R project

\begin{columns}
\begin{column}{0.3\textwidth}
\includegraphics[height = 0.7\textheight]{images/create_r_project}
\end{column}
\begin{column}{0.6\textwidth}
\includegraphics[width = \textwidth]{images/selecting_r_project}
\end{column}
\end{columns}

## Resources

```{r echo = FALSE, out.height = "0.8\\textheight", fig.align = "center"}
knitr::include_graphics("images/repro_research_book.jpeg")
```

____

\tikz[overlay,remember picture] \node[opacity=0.2, at=(current page.center)]{%
  \includegraphics[width=1\paperwidth]{images/example_code}};
\color{colorblue}
\begin{center}
\hugetext{\montserratfont [Live coding example]}
\end{center}


____

\begin{center}
 \hugetext{TRACK} 
 \medskip 
 \small \textbf{git and GitHub} for version control
\end{center}



## Using GitHub to collaborate

```{r echo = FALSE, out.width = "0.9\\textwidth", fig.align = "center"}
knitr::include_graphics("images/maze-minecraft.png")
```

\center
\url{https://github.com/ropenscilabs/miner}

____

\tikz[overlay,remember picture] \node[opacity=0.2, at=(current page.center)]{%
  \includegraphics[width=1\paperwidth]{images/example_code}};
\color{colorblue}
\begin{center}
\hugetext{\montserratfont [Live coding example]}
\end{center}

____

\begin{center}
 \hugetext{PACKAGE} 
 \medskip 
 \small Collect R functions in \textbf{packages} 
\end{center}

____

\includegraphics[width = \textwidth]{images/CRAN_package_10000}

## Resources

```{r echo = FALSE, out.height = "0.7\\textheight", fig.align = "center"}
knitr::include_graphics("images/p_packages_cover.png.png")
```

\centering
http://r-pkgs.had.co.nz/

____

\tikz[overlay,remember picture] \node[opacity=0.2, at=(current page.center)]{%
  \includegraphics[width=1\paperwidth]{images/example_code}};
\color{colorblue}
\begin{center}
\hugetext{\montserratfont [Live coding example]}
\end{center}

____

\begin{center}
 \hugetext{COLLECT} 
 \medskip 
 \small Leverage \textbf{open data} tools for collecting data
\end{center}

## Open Data APIs

```{r eval = FALSE}
library(tigris)
fl_counties <- counties(state = "FL",
                        class = "sf")
```
```{r echo = FALSE}
load("data/fl_counties.RData")
```

```{r echo = FALSE, out.height = "0.5\\textheight", fig.align = "center", fig.width = 4}
library(ggplot2)
ggplot() + 
  geom_sf(data = fl_counties, 
          aes(fill = ALAND)) + 
  theme_bw() + 
  scale_fill_viridis_c(name = "Land area", label = scales::scientific) + 
  theme(axis.text = element_blank(),
        axis.ticks = element_blank())
```

____

\tikz[overlay,remember picture] \node[opacity=0.2, at=(current page.center)]{%
  \includegraphics[width=1\paperwidth]{images/example_code}};
\color{colorblue}
\begin{center}
\hugetext{\montserratfont [Live coding example]}
\end{center}

____

\begin{center}
 \hugetext{PROCESS} 
 \medskip 
 \small Find and make \textbf{R packages} for processing data
\end{center}

____

\tikz[overlay,remember picture] \node[opacity=0.2, at=(current page.center)]{%
  \includegraphics[width=1\paperwidth]{images/example_code}};
\color{colorblue}
\begin{center}
\hugetext{\montserratfont [Live coding example]}
\end{center}

## Homework!!

\begin{center}
\url{goo.gl/7fPYUx}
\end{center}

